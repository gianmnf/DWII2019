<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:f="http://java.sun.com/jsf/core">
<ui:composition template="../layout.xhtml">
   <ui:define name="conteudo">
      <p:panel header="Automovel">
         <h:form>
            <p:growl />
            <h:inputHidden value="#{automovelController.automovel.idAutomovel}"/>
            <h:panelGrid columns="2">
               <p:outputLabel value="Ano"/>
               <p:inputText value="#{automovelController.automovel.ano}"/>
            </h:panelGrid>
            <h:panelGrid columns="2">
               <p:outputLabel value="Valor"/>
               <p:inputText value="#{automovelController.automovel.valor}"/>
            </h:panelGrid>
            <p:outputLabel value="Combustivel:" />
						<p:selectOneMenu value="#{combustivelController.combustivel.descricao}" 
										 filter="true"
										 converter="entityConverter">
							
							<f:selectItems value="#{combustivelController.todos()}" 
										   var="combustivel"
										   itemLabel="#{combustivel.descricao}"
										   itemValue="#{combustivel}" />
							
						</p:selectOneMenu>
			<p:separator />
			<p:outputLabel value="Cor:" />
						<p:selectOneMenu value="#{corController.cor.descricao}" 
										 filter="true"
										 converter="entityConverter">
							
							<f:selectItems value="#{corController.todos()}" 
										   var="cor"
										   itemLabel="#{cor.descricao}"
										   itemValue="#{cor}" />
							
						</p:selectOneMenu>
			<p:separator />
			<p:outputLabel value="Modelo:" />
						<p:selectOneMenu value="#{modeloController.modelo.descricao}" 
										 filter="true"
										 converter="entityConverter">
							
							<f:selectItems value="#{modeloController.todos()}" 
										   var="modelo"
										   itemLabel="#{modelo.descricao}"
										   itemValue="#{modelo}" />
							
						</p:selectOneMenu> 
			<p:separator />
			<h:panelGrid columns="2">
               <p:outputLabel value="Qtde. Portas"/>
               <p:inputText value="#{automovelController.automovel.quantidadePortas}"/>
            </h:panelGrid>           
            <p:commandButton value="Salvar" actionListener="#{automovelController.salvar()}" update="@form"/>
            <p:dataTable value="#{automovelController.todos()}"
               var="automovel"
               paginator="true"
               rows="10"
               emptyMessage="Nenhum automovel foi cadastrado.">
               <p:column headerText="CÃ³digo">
                  #{automovel.idAutomovel}
               </p:column>
               <p:column headerText="Modelo">
                  #{automovel.modelo.descricao}
               </p:column>
               <p:column headerText="Ano">
                  #{automovel.ano}
               </p:column>
               <p:column headerText="Valor">
                  #{automovel.valor}
               </p:column>
               <p:column headerText="Tipo Combustivel">
                  #{automovel.combustivel.descricao}
               </p:column>
               <p:column headerText="Cor">
                  #{automovel.cor.descricao}
               </p:column>
               <p:column headerText="Qtde. Portas">
                  #{automovel.quantidadePortas}
               </p:column>
               <p:column headerText="Editar">
                  <p:commandButton value="Editar" actionListener="#{automovelController.editar(automovel)}"
                     process="@this"
                     update="@form"></p:commandButton>
               </p:column>
               <p:column headerText="Excluir">
                  <p:commandButton value="Excluir" actionListener="#{automovelController.excluir(automovel.idAutomovel)}"
                     process="@this"
                     update="@form"></p:commandButton>
               </p:column>
            </p:dataTable>
         </h:form>
      </p:panel>
   </ui:define>
</ui:composition>
</html>